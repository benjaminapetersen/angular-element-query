!function(){var e=document.attachEvent,t=navigator.userAgent.match(/Trident/),n=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(e){return window.setTimeout(e,20)},i=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.clearTimeout,r=function(e){var t=e.target||e.srcElement;t.__resizeRAF__&&i(t.__resizeRAF__),t.__resizeRAF__=n(function(){var n=t.__resizeTrigger__;n.__resizeListeners__.forEach(function(t){t.call(n,e)})})},o=function(e){this.contentDocument.defaultView.__resizeTrigger__=this.__resizeElement__,this.contentDocument.defaultView.addEventListener("resize",r)},u=["display: block;","position: absolute;","top: 0; left: 0;","height: 100%;","width: 100%;","overflow: hidden;","pointer-events: none;","z-index: -1;"].join(""),s=function(n,i){if(!n.__resizeListeners__)if(n.__resizeListeners__=[],e)n.__resizeTrigger__=n,n.attachEvent("onresize",r);else{"static"==getComputedStyle(n).position&&(n.style.position="relative");var s=n.__resizeTrigger__=document.createElement("object");s.setAttribute("style",u),s.__resizeElement__=n,s.onload=o,s.type="text/html",s.data="about:blank",t||n.appendChild(s)}n.__resizeListeners__.push(i)},a=function(t,n){t.__resizeListeners__.splice(t.__resizeListeners__.indexOf(n),1),t.__resizeListeners__.length||(e?t.detachEvent("onresize",r):(t.__resizeTrigger__.contentDocument.defaultView.removeEventListener("resize",r),t.__resizeTrigger__=!t.removeChild(t.__resizeTrigger__)))};window.addResizeListener=s,window.removeResizeListener=a}(),function(){angular.module("element-query",[]).directive("elementQuery",function(){return{restrict:"A",scope:!0,controller:["$scope","element-query-utils","resizeListener",function(e,t,n){var i=t.isString,r=(t.split,t.find),o=t.each,u=(t.reduce,t.forOwn),s=t.delay,a=n.getBreakpoints,c={},l=void 0,_=function(e,t){var n=e.offsetWidth,i=r(t,function(e){return n<=e.val});i&&(l?i.val!==l.val&&(l=i,console.log("match break:",i.key,i.val,"to width:",n),f()):(l=i,console.log("setting current",l,i)))},f=function(){s(function(){u(c,function(e){o(e,function(e){e(l.key,l.val)})})})};this._initialize=function(t,i){var r=t[0],o=a(i),u=_.bind(null,r,o);_(r,o),n.addResizeListener(r,u),e.$on("$destroy",function(){n.removeResizeListener(r,u)})},this.subscribe=function(e,t){var n;i(e)||(n=e,e=Date.now(),t=function(e,t,i){n.$apply(function(){n.breakpoint=e})}),c[e]||(c[e]=[]);var r=c[e].push(t)-1;return f(),{unsubscribe:function(){delete c[e][r]}}}}],require:"elementQuery",link:function(e,t,n,i){n.elementQuery&&i._initialize(t,n.elementQuery)}}})}(),angular.module("element-query").factory("element-query-utils",function(){var e=Function.prototype.bind.bind(Function.prototype.call),t=e(Object.prototype.toString),n=function(e){return"[object String]"===t(e)},i=e(String.prototype.split),r=e(Array.prototype.slice),o=function(e){return!(e.length>0)},u=function(e,t,n){var i=e&&e.length;n=n||null;for(var r=0;i>r;r++)t.call(n,e[r],r,e)},s=function(e,t,n){var i,r=0;if(o(e))return!1;for(i=e.length,r;i>r;++r)if(!t(e[r],r))return!1;return!0},a=function(e,t,n){var i=0,r=e.length;for(i;r>i;i++)n=t(n,e[i],i,e);return n},c=function(e,t,n){var i;return o(e)?null:(u(e,function(e,n,r){t(e,n)&&(i||(i=e))}),i)},l=Function.prototype.call.bind(Object.prototype.hasOwnProperty),_=function(e){var t,n=[];for(t in e)l(e,t)&&n.push(t);return n},f=function(e,t){var n=_(e);u(n,function(n){t(e[n],n,e)})},d=function(){var e=arguments[0],t=arguments[1]||1,n=r(arguments,2);setTimeout(function(){e(n)},t)},m=function(e){var t=e.offsetWidth,n=getComputedStyle(e);return t+=parseInt(n.marginLeft)+parseInt(n.marginRight)},g=function(e){var t=e.offsetHeight,n=getComputedStyle(e);return t+=parseInt(n.marginTop)+parseInt(n.marginBottom)};return{unbind:e,split:i,toString:t,isString:n,empty:o,each:u,every:s,reduce:a,find:c,forOwn:f,delay:d,outerWidth:m,outerHeight:g}}),function(){angular.module("element-query").factory("resizeListener",["element-query-utils",function(e){var t=e.split,n=(e.find,e.each,e.reduce),i=(e.forOwn,function(e){var i=t(e," ")||[];return n(i,function(e,n,i,r){var o=t(n,":"),u={key:o[0],val:Number(o[1])};return o[2]&&(u.isDefault=!0),e.push(u),e},[])});return{addResizeListener:window.addResizeListener,removeResizeListener:window.removeResizeListener,getBreakpoints:i}}])}();